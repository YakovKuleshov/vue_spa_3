"use strict";(self["webpackChunkport"]=self["webpackChunkport"]||[]).push([[188],{9511:function(t,e){e["Z"]={activated(){const t=localStorage.getItem(`${this.$route.path.replace("/","")}_scroll`);t&&window.scrollTo({top:+t})}}},5188:function(t,e,r){r.r(e),r.d(e,{default:function(){return P}});var i=r(3396),s=r(7139),u=r(9242);const a=t=>((0,i.dD)("data-v-153ea48e"),t=t(),(0,i.Cn)(),t),o=a((()=>(0,i._)("h2",{class:"page__title"},"Информация",-1))),g={class:"pagination"},l=["onClick"],n={class:"list__item"},h=["src","onError"],p={class:"list__item__text"},c={key:0,class:"preloader"},y={key:0,class:"list__buttons"},$=["onClick"];function _(t,e,r,a,_,q){return(0,i.wg)(),(0,i.iD)("div",null,[o,(0,i._)("div",g,[(0,i.wy)((0,i._)("h2",{class:"list__title"}," Страница "+(0,s.zw)(q.getPageNumber),513),[[u.F8,q.getPageNumber]]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_.list,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"list__item__container",key:e,onClick:e=>q.toInfoPage(t)},[(0,i._)("div",n,[(0,i._)("img",{class:"list__item__img",src:t.urlToImage,onError:e=>q.loadError(t)},null,40,h),(0,i._)("div",p,(0,s.zw)(q.formatText(t.description)),1)])],8,l)))),128)),_.list.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",c))]),_.buttonsLenght?((0,i.wg)(),(0,i.iD)("div",y,[(0,i._)("div",{class:(0,s.C_)(["list__button prev__btn",{disabled:q.getDisabledPrevBtn}]),onClick:e[0]||(e[0]=(...t)=>q.toPrevPage&&q.toPrevPage(...t))},null,2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(_.buttonsLenght,((e,r)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[q.getPageButtons(r)?((0,i.wg)(),(0,i.iD)("div",{class:(0,s.C_)(["list__button",{list__button__active:+t.$route.query.page-1==r}]),key:r,onClick:t=>q.selectPage(r)},(0,s.zw)(r+1),11,$)):(0,i.kq)("",!0)],64)))),256)),(0,i._)("div",{class:(0,s.C_)(["list__button last__page",{disabled:+t.$route.query.page==_.buttonsLenght}]),onClick:e[1]||(e[1]=t=>q.selectPage(_.buttonsLenght-1))},(0,s.zw)(_.buttonsLenght),3),(0,i._)("div",{class:(0,s.C_)(["list__button next__btn",{disabled:q.getDisabledNextBtn}]),onClick:e[2]||(e[2]=(...t)=>q.toNextPage&&q.toNextPage(...t))},null,2)])):(0,i.kq)("",!0)])}r(7658);var q=r(65),d=r(9511),b={data(){return{buttonsLenght:"",list:[],current:"",currentPage:"",limit:7}},mixins:[d.Z],beforeRouteLeave(t,{query:e,name:r},i){this.currentPage=+e.page,localStorage.setItem(`${r}_scroll`,window.scrollY),this.list.length&&i()},watch:{$route({query:t}){t.page&&(this.currentPage=+t.page),this.getLimitedList(+t.page-1)}},computed:{...(0,q.Se)("mainStore",["subList"]),getDisabledNextBtn(){return+this.$route.query.page==this.buttonsLenght},getDisabledPrevBtn(){return 1==+this.$route.query.page},getPageNumber(){let t=this.$route.query.page&&this.$route.query.page.replace(/[^\d]/g,"");return+t>this.buttonsLenght?"":t}},methods:{...(0,q.nv)("mainStore",["getNews"]),loadError(t){t.urlToImage="img/plug.jpg"},formatText(t){return t.replace(/(<\/ul>|<ul>|<\/li>|<li>)/g,"")},toInfoPage(t){localStorage.setItem("info_data",JSON.stringify({...t,page:this.$route.query.page?this.$route.query.page:1})),this.$router.push("/info")},toNextPage(){this.$router.push("?page="+(+this.$route.query.page+1))},toPrevPage(){this.$router.push("?page="+(+this.$route.query.page-1))},selectPage(t){this.$router.push("?page="+(t+1))},getPageButtons(t){return+this.$route.query.page-1==0?t==+this.$route.query.page-1||t==+this.$route.query.page-1+1||t==+this.$route.query.page-1+2||t==+this.$route.query.page-1+3||t==+this.$route.query.page-1+4:+this.$route.query.page-1==1?t==+this.$route.query.page-1-1||t==+this.$route.query.page-1||t==+this.$route.query.page-1+1||t==+this.$route.query.page-1+2||t==+this.$route.query.page-1+3:+this.$route.query.page-1>=1&&+this.$route.query.page-1<=this.buttonsLenght-3?t==+this.$route.query.page-1-1||t==+this.$route.query.page-1-2||t==+this.$route.query.page-1||t==+this.$route.query.page-1+1||t==+this.$route.query.page-1+2:+this.$route.query.page-1==this.buttonsLenght-2?t==+this.$route.query.page-1-3||t==+this.$route.query.page-1-2||t==+this.$route.query.page-1-1||t==+this.$route.query.page-1||t==+this.$route.query.page-1+1||t==+this.$route.query.page-1+2:+this.$route.query.page-1==this.buttonsLenght-1?t==+this.$route.query.page-1-4||t==+this.$route.query.page-1-3||t==+this.$route.query.page-1-3||t==+this.$route.query.page-1-2||t==+this.$route.query.page-1-1||t==+this.$route.query.page-1:void 0},getLimitedList(t){this.list=this.subList.slice(t*this.limit,t*this.limit+this.limit)}},async activated(){this.subList.length||await this.getNews({category:"everything",page:1,limit:100}),this.buttonsLenght=Math.ceil(this.subList.length/this.limit);const t=[];for(let r=1;r<this.buttonsLenght;r++)t.push(r);let e=/page=\d{1,2}/g.test(this.$route.fullPath);e&&(1==this.$route.query.page||t.includes(+this.$route.query.page-1))||this.$router.replace(`/information?page=${this.currentPage||1}`),this.getLimitedList(+this.$route.query.page-1)}},m=r(89);const v=(0,m.Z)(b,[["render",_],["__scopeId","data-v-153ea48e"]]);var P=v}}]);
//# sourceMappingURL=188.4af88f80.js.map